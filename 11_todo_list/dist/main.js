(()=>{"use strict";class t{constructor(t){this.id=(new Date).getTime(),this.name=t,this.isComplete=!1}}class e{constructor(t){this.id=(new Date).getTime(),this.name=t,this.tasks=[]}addTask(e){const s=new t(e);this.tasks.push(s)}}class s{constructor(){this.projects=[]}addProject(t){const s=new e(t);this.projects.push(s)}findProject(t){return this.projects.find((e=>e.id===t))}}(new class{constructor(){this.projectList=new s,this.loadProjects(),this.initEventListeners()}loadProjects(){const s=(JSON.parse(localStorage.getItem("projects"))||[]).map((s=>{const o=new e(s.name);return o.id=s.id,o.tasks=s.tasks.map((e=>{const s=new t(e.name);return s.id=e.id,s.isComplete=e.isComplete,s})),o}));this.projectList.projects=s}addProject(t){this.projectList.addProject(t),this.saveProjects()}addTaskToProject(t,e){const s=this.projectList.findProject(t);s&&(s.addTask(e),this.saveProjects())}saveProjects(){var t;t=this.projectList.projects,localStorage.setItem("projects",JSON.stringify(t))}getProjects(){return this.projectList.projects}initEventListeners(){document.getElementById("addProjectButton").addEventListener("click",(()=>{console.log("test test");const t=document.getElementById("projectNameInput").value;t&&(console.log(t),this.addProject(t),this.renderProjects())})),document.addEventListener("click",(t=>{if(t.target&&t.target.classList.contains("addTaskButton")){const e=t.target.dataset.projectId,s=t.target.previousElementSibling.value;s&&(this.addTaskToProject(e,s),this.renderProjects())}}))}renderProjects(){const t=document.getElementById("projectContainer");t.innerHTML="",this.getProjects().forEach((e=>{const s=document.createElement("div");s.className="project",s.innerHTML=`\n                <h3>${e.name}</h3>\n                <input type="text" placeholder="New Task">\n                <button class="addTaskButton" data-project-id="${e.id}">Add Task</button>\n                <ul>\n                    ${e.tasks.map((t=>`<li>${t.name}</li>`)).join("")}\n                </ul>\n            `,t.appendChild(s)}))}}).renderProjects()})();